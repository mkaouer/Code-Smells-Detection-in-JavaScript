<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>PMD - Rule Set: Basic JSP rules</title><style type="text/css" media="all">
          @import url("../style/maven-base.css");
          
			    @import url("../style/maven-theme.css");</style><link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><meta name="author" content="Tom Copeland"></meta><meta name="email" content="tom@infoether.com"></meta></head><body class="composite"><div id="banner"><a href="http://pmd.sourceforge.net/" id="organizationLogo"><img alt="InfoEther" src="http://sourceforge.net/sflogo.php?group_id=56262&amp;type=5"></img></a><a href="http://pmd.sourceforge.net/" id="projectLogo"><img alt="PMD" src="../images/pmd_logo_small.jpg"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xright">
        
        <a href="http://pmdapplied.com/" class="externalLink" title="External Link">**** Get the book! ****</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://sourceforge.net/projects/pmd" class="externalLink" title="External Link">SourceForge.net Project Page</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="http://sourceforge.net" class="externalLink" title="External Link">Hosted by SourceForge</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menuOverview"><h5>Overview</h5><ul><li class="none"><a href="http://sourceforge.net/project/showfiles.php?group_id=56262&amp;package_id=51441&amp;release_id=452776" class="externalLink" title="External Link">Download PMD 3.9</a></li><li class="none"><a href="http://sourceforge.net/project/shownotes.php?release_id=452776&amp;group_id=56262" class="externalLink" title="External Link">What's new in PMD 3.9</a></li><li class="none"><a href="../news.html">PMD in the news</a></li><li class="none"><a href="../products.html">PMD-related products and books</a></li><li class="none"><a href="../bestpractices.html">Best practices</a></li><li class="none"><a href="../future.html">Future directions</a></li><li class="none"><a href="../similar-projects.html">Similar projects</a></li><li class="none"><a href="../credits.html">Credits</a></li><li class="none"><a href="../license.html">License</a></li><li class="none"><a href="../meaning.html">What does 'PMD' mean?</a></li></ul></div><div id="menuUsage"><h5>Usage</h5><ul><li class="none"><a href="../installing.html">Installation</a></li><li class="none"><a href="../running.html">Command line usage</a></li><li class="none"><a href="../ant-task.html">Ant task usage</a></li><li class="none"><a href="../maven-plugin.html">Maven plugin usage</a></li><li class="none"><a href="../integrations.html">IDE plugin usage</a></li><li class="none"><a href="../suppressing.html">Suppressing warnings</a></li><li class="none"><a href="../cpd.html">Finding duplicated code</a></li><li class="none"><a href="../jspsupport.html">JSP support</a></li></ul></div><div id="menuCustomizing_PMD"><h5>Customizing PMD</h5><ul><li class="none"><a href="../compiling.html">Compiling PMD</a></li><li class="none"><a href="../howtowritearule.html">How to write a rule</a></li><li class="none"><a href="../xpathruletutorial.html">Writing XPath rules</a></li><li class="none"><a href="../howtomakearuleset.html">How to make a rule set</a></li><li class="none"><a href="../howitworks.html">How it works</a></li></ul></div><div id="menuFor_example"><h5>For example</h5><ul><li class="none"><a href="../scoreboard.html">Run PMD on a Sourceforge project</a></li></ul></div><div id="menuRule_Sets"><h5>Rule Sets</h5><ul><li class="none"><a href="../rules/index.html">Index</a></li><li class="none"><a href="../rules/basic.html">Basic</a></li><li class="none"><a href="../rules/braces.html">Braces</a></li><li class="none"><a href="../rules/codesize.html">Code Size</a></li><li class="none"><a href="../rules/clone.html">Clone</a></li><li class="none"><a href="../rules/controversial.html">Controversial</a></li><li class="none"><a href="../rules/coupling.html">Coupling</a></li><li class="none"><a href="../rules/design.html">Design</a></li><li class="none"><a href="../rules/finalizers.html">Finalizers</a></li><li class="none"><a href="../rules/imports.html">Import Statements</a></li><li class="none"><a href="../rules/j2ee.html">J2EE</a></li><li class="none"><a href="../rules/javabeans.html">Javabeans</a></li><li class="none"><a href="../rules/junit.html">JUnit Tests</a></li><li class="none"><a href="../rules/logging-java.html">Logging (Java)</a></li><li class="none"><a href="../rules/logging-jakarta-commons.html">Logging (Jakarta)</a></li><li class="none"><a href="../rules/migrating.html">Migrating</a></li><li class="none"><a href="../rules/naming.html">Naming</a></li><li class="none"><a href="../rules/optimizations.html">Optimizations</a></li><li class="none"><a href="../rules/strictexception.html">Strict Exceptions</a></li><li class="none"><a href="../rules/strings.html">Strings</a></li><li class="none"><a href="../rules/sunsecure.html">Sun Security</a></li><li class="none"><a href="../rules/unusedcode.html">Unused Code</a></li><li class="none"><strong><a href="../rules/basic-jsp.html">Java Server Pages</a></strong></li><li class="none"><a href="../rules/basic-jsf.html">Java Server Faces</a></li></ul></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="../index.html">About PMD</a></li><li class="collapsed"><a href="../project-info.html">Project Info</a></li><li class="collapsed"><a href="../maven-reports.html">Project Reports</a></li><li class="none"><a href="http://maven.apache.org/development-process.html" class="externalLink" title="External Link">Development Process</a></li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="../images/logos/maven-button-1.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="Basic_JSP_rules"></a><h2>Basic JSP rules</h2><p>Rules concerning basic JSP guidelines.</p><div class="subsection"><a name="NoLongScripts"></a><h3>NoLongScripts</h3><p> Scripts should be part of Tag Libraries, rather than part of JSP pages.
			</p><p>This rule is defined by the following XPath expression:</p>
    <div class="source"><pre>
					 
// Element [ string:upper-case(@Name)="SCRIPT" and (@EndLine - @BeginLine &amp;gt; 10) ]
				
				</pre></div>
  <p>Here's an example of code that would trigger this rule:</p>
    <div class="source"><pre>
			
			
&amp;lt;HTML&amp;gt;
&amp;lt;BODY&amp;gt;
&amp;lt;!--Java Script--&amp;gt;
&amp;lt;SCRIPT language="JavaScript" type="text/javascript"&amp;gt;
&amp;lt;!--
function calcDays(){
  var date1 = document.getElementById('d1').lastChild.data;
  var date2 = document.getElementById('d2').lastChild.data;
  date1 = date1.split("-");
  date2 = date2.split("-");
  var sDate = new Date(date1[0]+"/"+date1[1]+"/"+date1[2]);
  var eDate = new Date(date2[0]+"/"+date2[1]+"/"+date2[2]);
  var daysApart = Math.abs(Math.round((sDate-eDate)/86400000));
  document.getElementById('diffDays').lastChild.data = daysApart;
}

onload=calcDays;
//--&amp;gt;
&amp;lt;/SCRIPT&amp;gt;
&amp;lt;/BODY&amp;gt;
&amp;lt;/HTML&amp;gt;
			
		
		</pre></div>
  </div><div class="subsection"><a name="NoScriptlets"></a><h3>NoScriptlets</h3><p> Scriptlets should be factored into Tag Libraries or JSP declarations,
			rather than being part of JSP pages. </p><p>This rule is defined by the following XPath expression:</p>
    <div class="source"><pre>
					 //descendant::*[ 
self::JspScriptlet  or (self::Element and string:upper-case(@Name)="JSP:SCRIPTLET") ]
					
				</pre></div>
  <p>Here's an example of code that would trigger this rule:</p>
    <div class="source"><pre>
			
			 
&amp;lt;HTML&amp;gt;
&amp;lt;HEAD&amp;gt;
&amp;lt;%
response.setHeader("Pragma", "No-cache");
%&amp;gt;
&amp;lt;/HEAD&amp;gt;
	&amp;lt;BODY&amp;gt;
		&amp;lt;jsp:scriptlet&amp;gt;String title = "Hello world!";&amp;lt;/jsp:scriptlet&amp;gt;
	&amp;lt;/BODY&amp;gt;
&amp;lt;/HTML&amp;gt;
					 
		
		</pre></div>
  </div><div class="subsection"><a name="NoInlineStyleInformation"></a><h3>NoInlineStyleInformation</h3><p> Style information should be put in CSS files, not in JSPs.
			Therefore, don't use &lt;B&gt; or &lt;FONT&gt; tags, or attributes like "align='center'".  </p><p>This rule is defined by the following Java class:
    		    <a href="../xref/net/sourceforge/pmd/jsp/rules/NoInlineStyleInformation.html">net.sourceforge.pmd.jsp.rules.NoInlineStyleInformation</a>
    		    </p><p>Here's an example of code that would trigger this rule:</p>
    <div class="source"><pre>
			
			 
&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;p align='center'&amp;gt;&amp;lt;b&amp;gt;text&amp;lt;/b&amp;gt;&amp;lt;/p&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
					 
		
		</pre></div>
  </div><div class="subsection"><a name="NoClassAttribute"></a><h3>NoClassAttribute</h3><p>Do not use an attribute called 'class'. Use "styleclass" for CSS styles.
			</p><p>This rule is defined by the following XPath expression:</p>
    <div class="source"><pre>
					 //Attribute[ string:upper-case(@Name)="CLASS" ]  
				</pre></div>
  <p>Here's an example of code that would trigger this rule:</p>
    <div class="source"><pre>
			
			
&amp;lt;HTML&amp;gt; &amp;lt;BODY&amp;gt;
&amp;lt;P class="MajorHeading"&amp;gt;Some text&amp;lt;/P&amp;gt;
&amp;lt;/BODY&amp;gt; &amp;lt;/HTML&amp;gt;
			
		
		</pre></div>
  </div><div class="subsection"><a name="NoJspForward"></a><h3>NoJspForward</h3><p>Do not do a forward from within a JSP file.
			</p><p>This rule is defined by the following XPath expression:</p>
    <div class="source"><pre>
					 //Element[ @Name="jsp:forward" ]  
				</pre></div>
  <p>Here's an example of code that would trigger this rule:</p>
    <div class="source"><pre>
			
			
&amp;lt;jsp:forward page='UnderConstruction.jsp'/&amp;gt;
			
		
		</pre></div>
  </div><div class="subsection"><a name="IframeMissingSrcAttribute"></a><h3>IframeMissingSrcAttribute</h3><p>
		  IFrames which are missing a src element can cause security information popups 
		  in IE if you are accessing the page through SSL. See http://support.microsoft.com/default.aspx?scid=kb;EN-US;Q261188
			</p><p>This rule is defined by the following XPath expression:</p>
    <div class="source"><pre>
					 
	//Element[string:upper-case(@Name)="IFRAME"][count(Attribute[string:upper-case(@Name)="SRC" ]) = 0]
					 
				</pre></div>
  <p>Here's an example of code that would trigger this rule:</p>
    <div class="source"><pre>
			
			
&amp;lt;HTML&amp;gt;&amp;lt;title&amp;gt;bad example&amp;gt;&amp;lt;BODY&amp;gt;
&amp;lt;iframe&amp;gt;&amp;lt;/iframe&amp;gt;
&amp;lt;/BODY&amp;gt; &amp;lt;/HTML&amp;gt;

&amp;lt;HTML&amp;gt;&amp;lt;title&amp;gt;good example&amp;gt;&amp;lt;BODY&amp;gt;
&amp;lt;iframe src="foo"&amp;gt;&amp;lt;/iframe&amp;gt;
&amp;lt;/BODY&amp;gt; &amp;lt;/HTML&amp;gt;
			
		
		</pre></div>
  </div><div class="subsection"><a name="NoHtmlComments"></a><h3>NoHtmlComments</h3><p>
		  In a production system, HTML comments increase the payload between the application 
		  server to the client, and serve little other purpose. Consider switching to 
		  JSP comments.
			</p><p>This rule is defined by the following XPath expression:</p>
    <div class="source"><pre>
					 
	//CommentTag
					 
				</pre></div>
  <p>Here's an example of code that would trigger this rule:</p>
    <div class="source"><pre>
			
			
&amp;lt;HTML&amp;gt;&amp;lt;title&amp;gt;bad example&amp;gt;&amp;lt;BODY&amp;gt;
&amp;lt;!-- HTML comment --&amp;gt;
&amp;lt;/BODY&amp;gt; &amp;lt;/HTML&amp;gt;

&amp;lt;HTML&amp;gt;&amp;lt;title&amp;gt;good example&amp;gt;&amp;lt;BODY&amp;gt;
&amp;lt;%-- JSP comment --%&amp;gt;
&amp;lt;/BODY&amp;gt; &amp;lt;/HTML&amp;gt;
			
		
		</pre></div>
  </div><div class="subsection"><a name="DuplicateJspImports"></a><h3>DuplicateJspImports</h3><p>Avoid duplicate import statements inside JSP's.  </p><p>This rule is defined by the following Java class:
    		    <a href="../xref/net/sourceforge/pmd/jsp/rules/DuplicateJspImports.html">net.sourceforge.pmd.jsp.rules.DuplicateJspImports</a>
    		    </p><p>Here's an example of code that would trigger this rule:</p>
    <div class="source"><pre>
			
			 
&amp;lt;%@ page import=\"com.foo.MyClass,com.foo.MyClass\"%&amp;gt;&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;&amp;lt;b&amp;gt;&amp;lt;img src=\"&amp;lt;%=Some.get()%&amp;gt;/foo\"&amp;gt;xx&amp;lt;/img&amp;gt;text&amp;lt;/b&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;
			 
		
		</pre></div>
  </div></div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2002-2006, InfoEther</div><div class="clear"><hr></hr></div></div></body></html>