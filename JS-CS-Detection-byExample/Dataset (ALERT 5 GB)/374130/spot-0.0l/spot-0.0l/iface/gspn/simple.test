#! /bin/sh

. ./defs || exit 1

set -e

cp -R $srcdir/examples/simple .
chmod +w simple

# Unknown properties should be flagged.
../dottygspn-rg simple/simple unknown && exit 1


../dottygspn-rg simple/simple obs >output
# We expect exactly 1024 states.
grep ' 1024 ' output
grep ' 1025 ' output && exit 1


../dottygspn-srg simple/simple obs >output
# We expect exactly 11 states.
grep ' 11 ' output
grep ' 12 ' output && exit 1
:
