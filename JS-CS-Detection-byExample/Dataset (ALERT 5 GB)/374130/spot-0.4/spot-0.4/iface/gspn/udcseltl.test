#! /bin/sh

. ./defs || exit 1

set -e

cp -R $srcdir/examples/udcs .
chmod +w udcs

# F(ReP1 => F(gsP1)) is false
../ltlgspn-srg -c -l -e udcs/udcs \
  'F(ReP1 => F(gsP1))' ReP1 gsP1 >output && exit 1
../ltlgspn-srg -c -l -e2 udcs/udcs \
  'F(ReP1 => F(gsP1))' ReP1 gsP1 >output && exit 1

# !F(ReP1 => F(gsP1)) is true
../ltlgspn-srg -c -l -e udcs/udcs '!F(ReP1 => F(gsP1))' ReP1 gsP1 >output
../ltlgspn-srg -c -l -e2 udcs/udcs '!F(ReP1 => F(gsP1))' ReP1 gsP1 >output

# !G(ReP1 => F(gsP1)) is false
../ltlgspn-srg -c -l -e udcs/udcs \
  '!G(ReP1 => F(gsP1))' ReP1 gsP1 >output && exit 1
../ltlgspn-srg -d dead -c -l -e2 udcs/udcs \
  '!G(ReP1 => F(gsP1))' ReP1 gsP1 >output && exit 1
grep ' !dead' output
grep ' dead' output && exit 1
:
