--- ../src_base/minecraft_server/net/minecraft/src/BlockTrapDoor.java	0000-00-00 00:00:00.000000000 -0000
+++ ../src_work/minecraft_server/net/minecraft/src/BlockTrapDoor.java	0000-00-00 00:00:00.000000000 -0000
@@ -2,6 +2,9 @@
 
 public class BlockTrapDoor extends Block
 {
+	/* FORGE: Set this to allow trapdoors to remain free-floating */
+	public static boolean disableValidation = false;
+	
     protected BlockTrapDoor(int i, Material material)
     {
         super(i, material);
@@ -133,7 +136,7 @@
         {
             j1--;
         }
-        if (!isValidSupportBlock(world.getBlockId(j1, j, k1)))
+        if (!(isValidSupportBlock(world.getBlockId(j1, j, k1)) || world.isBlockSolidOnSide(j1, j, k1, (i1 & 3) + 2)))
         {
             world.setBlockWithNotify(i, j, k, 0);
             dropBlockAsItem(world, i, j, k, i1, 0);
@@ -175,6 +178,10 @@
 
     public boolean canPlaceBlockOnSide(World world, int i, int j, int k, int l)
     {
+    	if (disableValidation)
+    	{
+    		return true;
+    	}
         if (l == 0)
         {
             return false;
@@ -199,7 +206,7 @@
         {
             i--;
         }
-        return isValidSupportBlock(world.getBlockId(i, j, k));
+        return isValidSupportBlock(world.getBlockId(i, j, k)) || world.isBlockSolidOnSide(i, j, k, l);
     }
 
     public static boolean isTrapdoorOpen(int i)
