<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libDAI: include/dai/dag.h Source File</title>
<link href="customdoxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
<h1>include/dai/dag.h</h1><a href="dag_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*  This file is part of libDAI - http://www.libdai.org/</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> *  libDAI is licensed under the terms of the GNU General Public License version</span>
<a name="l00004"></a>00004 <span class="comment"> *  2, or (at your option) any later version. libDAI is distributed without any</span>
<a name="l00005"></a>00005 <span class="comment"> *  warranty. See the file COPYING for more details.</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> *  Copyright (C) 2010  Joris Mooij  [joris dot mooij at libdai dot org]</span>
<a name="l00008"></a>00008 <span class="comment"> */</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 
<a name="l00013"></a>00013 
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#ifndef __defined_libdai_dag_h</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">#define __defined_libdai_dag_h</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;ostream&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;<a class="code" href="util_8h.html" title="Defines general utility functions and adds an abstraction layer for platform-dependent...">dai/util.h</a>&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="exceptions_8h.html" title="Defines the Exception class and macros for throwing exceptions and doing assertions...">dai/exceptions.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="smallset_8h.html" title="Defines the SmallSet&amp;lt;&amp;gt; class, which represents a set (optimized for a small...">dai/smallset.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="graph_8h.html" title="Defines the GraphAL class, which represents an undirected graph as an adjacency list...">dai/graph.h</a>&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="keyword">namespace </span>dai {
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 
<a name="l00032"></a>00032 
<a name="l00043"></a><a class="code" href="classdai_1_1DAG.html">00043</a> <span class="keyword">class </span><a class="code" href="classdai_1_1DAG.html" title="Represents the neighborhood structure of nodes in a directed cyclic graph.">DAG</a> {
<a name="l00044"></a>00044     <span class="keyword">private</span>:
<a name="l00046"></a><a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0">00046</a>         std::vector&lt;Neighbors&gt; <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>;
<a name="l00047"></a>00047         
<a name="l00049"></a><a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c">00049</a>         std::vector&lt;Neighbors&gt; <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051     <span class="keyword">public</span>:
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 
<a name="l00055"></a><a class="code" href="classdai_1_1DAG.html#492535d29b681e169478bf996f4bc8ea">00055</a>         <a class="code" href="classdai_1_1DAG.html#492535d29b681e169478bf996f4bc8ea" title="Default constructor (creates an empty DAG).">DAG</a>() : <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>(), <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>() {}
<a name="l00056"></a>00056 
<a name="l00058"></a><a class="code" href="classdai_1_1DAG.html#479637ba8bc537f368d343d98187a325">00058</a>         <a class="code" href="classdai_1_1DAG.html#492535d29b681e169478bf996f4bc8ea" title="Default constructor (creates an empty DAG).">DAG</a>( <span class="keywordtype">size_t</span> nr ) : <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>( nr ), <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>( nr ) {}
<a name="l00059"></a>00059 
<a name="l00061"></a>00061 
<a name="l00068"></a>00068         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> EdgeInputIterator&gt;
<a name="l00069"></a><a class="code" href="classdai_1_1DAG.html#e9d44fcdc2be9ea5447114bbb6f0cf3e">00069</a>         <a class="code" href="classdai_1_1DAG.html#492535d29b681e169478bf996f4bc8ea" title="Default constructor (creates an empty DAG).">DAG</a>( <span class="keywordtype">size_t</span> nr, EdgeInputIterator begin, EdgeInputIterator end, <span class="keywordtype">bool</span> check=<span class="keyword">true</span> ) : <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>(), <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>() {
<a name="l00070"></a>00070             <a class="code" href="classdai_1_1DAG.html#77a8bc70a52faf465b1bf55b585f65f5" title="(Re)constructs DAG from a range of edges.">construct</a>( nr, begin, end, check );
<a name="l00071"></a>00071         }
<a name="l00073"></a>00073 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 
<a name="l00077"></a><a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782">00077</a>         <span class="keyword">const</span> <a class="code" href="structdai_1_1Neighbor.html" title="Describes the neighbor relationship of two nodes in a graph.">Neighbor</a>&amp; <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>( <span class="keywordtype">size_t</span> n, <span class="keywordtype">size_t</span> _p )<span class="keyword"> const </span>{
<a name="l00078"></a>00078             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( n &lt; <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size() );
<a name="l00079"></a>00079             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( _p &lt; <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>[n].size() );
<a name="l00080"></a>00080             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>[n][_p];
<a name="l00081"></a>00081         }
<a name="l00083"></a><a class="code" href="classdai_1_1DAG.html#4f9fb18c1254aa5e530bf8cc4cd22e7b">00083</a>         <a class="code" href="structdai_1_1Neighbor.html" title="Describes the neighbor relationship of two nodes in a graph.">Neighbor</a>&amp; <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>( <span class="keywordtype">size_t</span> n, <span class="keywordtype">size_t</span> _p ) {
<a name="l00084"></a>00084             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( n &lt; <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size() );
<a name="l00085"></a>00085             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( _p &lt; <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>[n].size() );
<a name="l00086"></a>00086             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>[n][_p];
<a name="l00087"></a>00087         }
<a name="l00088"></a>00088 
<a name="l00090"></a><a class="code" href="classdai_1_1DAG.html#185751494cfefa2ba6643183999b3391">00090</a>         <span class="keyword">const</span> <a class="code" href="namespacedai.html#14c563f2e5f6acf255903cae5c3b415c" title="Describes the set of neighbors of some node in a graph.">Neighbors</a>&amp; <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>( <span class="keywordtype">size_t</span> n )<span class="keyword"> const </span>{
<a name="l00091"></a>00091             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( n &lt; <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size() );
<a name="l00092"></a>00092             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>[n];
<a name="l00093"></a>00093         }
<a name="l00095"></a><a class="code" href="classdai_1_1DAG.html#0d27eff22aff5e2e31df7325ce537c26">00095</a>         <a class="code" href="namespacedai.html#14c563f2e5f6acf255903cae5c3b415c" title="Describes the set of neighbors of some node in a graph.">Neighbors</a>&amp; <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>( <span class="keywordtype">size_t</span> n ) {
<a name="l00096"></a>00096             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( n &lt; <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size() );
<a name="l00097"></a>00097             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>[n];
<a name="l00098"></a>00098         }
<a name="l00099"></a>00099 
<a name="l00101"></a><a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd">00101</a>         <span class="keyword">const</span> <a class="code" href="structdai_1_1Neighbor.html" title="Describes the neighbor relationship of two nodes in a graph.">Neighbor</a>&amp; <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>( <span class="keywordtype">size_t</span> n, <span class="keywordtype">size_t</span> _c )<span class="keyword"> const </span>{
<a name="l00102"></a>00102             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( n &lt; <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.size() );
<a name="l00103"></a>00103             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( _c &lt; <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>[n].size() );
<a name="l00104"></a>00104             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>[n][_c];
<a name="l00105"></a>00105         }
<a name="l00107"></a><a class="code" href="classdai_1_1DAG.html#c6b7063b3fe3284a17479ce49f9d6674">00107</a>         <a class="code" href="structdai_1_1Neighbor.html" title="Describes the neighbor relationship of two nodes in a graph.">Neighbor</a>&amp; <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>( <span class="keywordtype">size_t</span> n, <span class="keywordtype">size_t</span> _c ) {
<a name="l00108"></a>00108             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( n &lt; <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.size() );
<a name="l00109"></a>00109             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( _c &lt; <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>[n].size() );
<a name="l00110"></a>00110             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>[n][_c];
<a name="l00111"></a>00111         }
<a name="l00112"></a>00112 
<a name="l00114"></a><a class="code" href="classdai_1_1DAG.html#642b2847adfad49f6b2cbfa8faa008df">00114</a>         <span class="keyword">const</span> <a class="code" href="namespacedai.html#14c563f2e5f6acf255903cae5c3b415c" title="Describes the set of neighbors of some node in a graph.">Neighbors</a>&amp; <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>( <span class="keywordtype">size_t</span> n )<span class="keyword"> const </span>{
<a name="l00115"></a>00115             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( n &lt; <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.size() );
<a name="l00116"></a>00116             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>[n];
<a name="l00117"></a>00117         }
<a name="l00119"></a><a class="code" href="classdai_1_1DAG.html#57b8dd6cfbeb588eef4fbbb3e44c759f">00119</a>         <a class="code" href="namespacedai.html#14c563f2e5f6acf255903cae5c3b415c" title="Describes the set of neighbors of some node in a graph.">Neighbors</a>&amp; <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>( <span class="keywordtype">size_t</span> n ) {
<a name="l00120"></a>00120             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( n &lt; <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.size() );
<a name="l00121"></a>00121             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>[n];
<a name="l00122"></a>00122         }
<a name="l00124"></a>00124 
<a name="l00126"></a>00126 
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 
<a name="l00134"></a>00134         <span class="keyword">template</span>&lt;<span class="keyword">typename</span> EdgeInputIterator&gt;
<a name="l00135"></a>00135         <span class="keywordtype">void</span> <a class="code" href="classdai_1_1DAG.html#77a8bc70a52faf465b1bf55b585f65f5" title="(Re)constructs DAG from a range of edges.">construct</a>( <span class="keywordtype">size_t</span> nr, EdgeInputIterator begin, EdgeInputIterator end, <span class="keywordtype">bool</span> check=<span class="keyword">true</span> );
<a name="l00136"></a>00136 
<a name="l00138"></a><a class="code" href="classdai_1_1DAG.html#e1840708ee5af411ecce0055c62fea77">00138</a>         <span class="keywordtype">size_t</span> <a class="code" href="classdai_1_1DAG.html#e1840708ee5af411ecce0055c62fea77" title="Adds a node without parents and children and returns the index of the added node...">addNode</a>() {
<a name="l00139"></a>00139             <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.push_back( <a class="code" href="namespacedai.html#14c563f2e5f6acf255903cae5c3b415c" title="Describes the set of neighbors of some node in a graph.">Neighbors</a>() ); 
<a name="l00140"></a>00140             <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.push_back( <a class="code" href="namespacedai.html#14c563f2e5f6acf255903cae5c3b415c" title="Describes the set of neighbors of some node in a graph.">Neighbors</a>() );
<a name="l00141"></a>00141             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size() - 1;
<a name="l00142"></a>00142         }
<a name="l00143"></a>00143 
<a name="l00145"></a>00145 
<a name="l00151"></a>00151         <span class="keyword">template</span> &lt;<span class="keyword">typename</span> NodeInputIterator&gt;
<a name="l00152"></a><a class="code" href="classdai_1_1DAG.html#3e7073f5c837c3895a4ad6ac0a07e25c">00152</a>         <span class="keywordtype">size_t</span> <a class="code" href="classdai_1_1DAG.html#e1840708ee5af411ecce0055c62fea77" title="Adds a node without parents and children and returns the index of the added node...">addNode</a>( NodeInputIterator begin, NodeInputIterator end, <span class="keywordtype">size_t</span> sizeHint=0 ) {
<a name="l00153"></a>00153             <a class="code" href="namespacedai.html#14c563f2e5f6acf255903cae5c3b415c" title="Describes the set of neighbors of some node in a graph.">Neighbors</a> newparents;
<a name="l00154"></a>00154             newparents.reserve( sizeHint );
<a name="l00155"></a>00155             <span class="keywordtype">size_t</span> iter = 0;
<a name="l00156"></a>00156             <span class="keywordflow">for</span>( NodeInputIterator it = begin; it != end; ++it ) {
<a name="l00157"></a>00157                 <a class="code" href="exceptions_8h.html#f50adc4fad1e07093579e746302bc884" title="Assertion mechanism, similar to the standard assert() macro. It is always active...">DAI_ASSERT</a>( *it &lt; <a class="code" href="classdai_1_1DAG.html#5c79447b7a63268417ff87093e0f7472" title="Returns number of nodes.">nrNodes</a>() );
<a name="l00158"></a>00158                 <a class="code" href="structdai_1_1Neighbor.html" title="Describes the neighbor relationship of two nodes in a graph.">Neighbor</a> newparent( iter, *it, <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>(*it).size() );
<a name="l00159"></a>00159                 <a class="code" href="structdai_1_1Neighbor.html" title="Describes the neighbor relationship of two nodes in a graph.">Neighbor</a> newchild( <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>(*it).size(), <a class="code" href="classdai_1_1DAG.html#5c79447b7a63268417ff87093e0f7472" title="Returns number of nodes.">nrNodes</a>(), iter++ );
<a name="l00160"></a>00160                 newparents.push_back( newparent );
<a name="l00161"></a>00161                 <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>( *it ).push_back( newchild );
<a name="l00162"></a>00162             }
<a name="l00163"></a>00163             <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.push_back( newparents );
<a name="l00164"></a>00164             <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.push_back( <a class="code" href="namespacedai.html#14c563f2e5f6acf255903cae5c3b415c" title="Describes the set of neighbors of some node in a graph.">Neighbors</a>() );
<a name="l00165"></a>00165             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size() - 1;
<a name="l00166"></a>00166         }
<a name="l00167"></a>00167 
<a name="l00169"></a>00169 
<a name="l00171"></a>00171         <a class="code" href="classdai_1_1DAG.html" title="Represents the neighborhood structure of nodes in a directed cyclic graph.">DAG</a>&amp; <a class="code" href="classdai_1_1DAG.html#eee04f48ac5d0bf68187d5325dd551bd" title="Adds an edge from node n1 and node n2.">addEdge</a>( <span class="keywordtype">size_t</span> n1, <span class="keywordtype">size_t</span> n2, <span class="keywordtype">bool</span> check=<span class="keyword">true</span> );
<a name="l00173"></a>00173 
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 
<a name="l00177"></a>00177         <span class="keywordtype">void</span> <a class="code" href="classdai_1_1DAG.html#1e9807a4fdd893548a4d6db807c1f48b" title="Removes node n and all ingoing and outgoing edges; indices of other nodes are changed...">eraseNode</a>( <span class="keywordtype">size_t</span> n );
<a name="l00178"></a>00178 
<a name="l00180"></a>00180         <span class="keywordtype">void</span> <a class="code" href="classdai_1_1DAG.html#187e12110645d09f7bd4271dae17d142" title="Removes edge from node n1 to node n2.">eraseEdge</a>( <span class="keywordtype">size_t</span> n1, <span class="keywordtype">size_t</span> n2 );
<a name="l00182"></a>00182 
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 
<a name="l00186"></a><a class="code" href="classdai_1_1DAG.html#5c79447b7a63268417ff87093e0f7472">00186</a>         <span class="keywordtype">size_t</span> <a class="code" href="classdai_1_1DAG.html#5c79447b7a63268417ff87093e0f7472" title="Returns number of nodes.">nrNodes</a>()<span class="keyword"> const </span>{
<a name="l00187"></a>00187             <a class="code" href="exceptions_8h.html#b0d3e811b3335ac42245ec03864ede45" title="Assertion mechanism similar to DAI_ASSERT which is only active if DAI_DEBUG is defined...">DAI_DEBASSERT</a>( <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size() == <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.size() );
<a name="l00188"></a>00188             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size();
<a name="l00189"></a>00189         }
<a name="l00190"></a>00190 
<a name="l00192"></a><a class="code" href="classdai_1_1DAG.html#c94760f0b773f4e847692423aeb8986c">00192</a>         <span class="keywordtype">size_t</span> <a class="code" href="classdai_1_1DAG.html#c94760f0b773f4e847692423aeb8986c" title="Calculates the number of edges, time complexity: O(nrNodes()).">nrEdges</a>()<span class="keyword"> const </span>{
<a name="l00193"></a>00193             <span class="keywordtype">size_t</span> sum = 0;
<a name="l00194"></a>00194             <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.size(); i++ )
<a name="l00195"></a>00195                 sum += <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>[i].size();
<a name="l00196"></a>00196             <span class="keywordflow">return</span> sum;
<a name="l00197"></a>00197         }
<a name="l00198"></a>00198 
<a name="l00200"></a>00200 
<a name="l00202"></a><a class="code" href="classdai_1_1DAG.html#04ec82dc6d59fab6a77c24dc560164ac">00202</a>         <span class="keywordtype">bool</span> <a class="code" href="classdai_1_1DAG.html#04ec82dc6d59fab6a77c24dc560164ac" title="Returns true if the DAG contains an edge from node n1 and n2.">hasEdge</a>( <span class="keywordtype">size_t</span> n1, <span class="keywordtype">size_t</span> n2 )<span class="keyword"> const </span>{
<a name="l00203"></a>00203             <span class="keywordflow">if</span>( <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>(n1).size() &lt; <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>(n2).size() ) {
<a name="l00204"></a>00204                 <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> _n2 = 0; _n2 &lt; <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>(n1).size(); _n2++ )
<a name="l00205"></a>00205                     <span class="keywordflow">if</span>( <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>( n1, _n2 ) == n2 )
<a name="l00206"></a>00206                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00207"></a>00207             } <span class="keywordflow">else</span> {
<a name="l00208"></a>00208                 <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> _n1 = 0; _n1 &lt; <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>(n2).size(); _n1++ )
<a name="l00209"></a>00209                     <span class="keywordflow">if</span>( <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>( n2, _n1 ) == n1 )
<a name="l00210"></a>00210                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00211"></a>00211             }
<a name="l00212"></a>00212             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00213"></a>00213         }
<a name="l00214"></a>00214 
<a name="l00216"></a>00216 
<a name="l00219"></a><a class="code" href="classdai_1_1DAG.html#2a98f61d94c29070a813e4dd0a5e1263">00219</a>         <span class="keywordtype">size_t</span> <a class="code" href="classdai_1_1DAG.html#2a98f61d94c29070a813e4dd0a5e1263" title="Returns the index of a given node p amongst the parents of n.">findPa</a>( <span class="keywordtype">size_t</span> n, <span class="keywordtype">size_t</span> p ) {
<a name="l00220"></a>00220             <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> _p = 0; _p &lt; <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>(n).size(); _p++ )
<a name="l00221"></a>00221                 <span class="keywordflow">if</span>( <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>( n, _p ) == p )
<a name="l00222"></a>00222                     <span class="keywordflow">return</span> _p;
<a name="l00223"></a>00223             <a class="code" href="exceptions_8h.html#e40c2873869c363218a8945a44e03525" title="Macro that simplifies throwing an exception with a useful default error message.">DAI_THROW</a>(OBJECT_NOT_FOUND);
<a name="l00224"></a>00224             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>(n).size();
<a name="l00225"></a>00225         }
<a name="l00226"></a>00226 
<a name="l00228"></a>00228 
<a name="l00231"></a><a class="code" href="classdai_1_1DAG.html#5807cff8d5fda8e0c6ff060fc1a01ab8">00231</a>         <span class="keywordtype">size_t</span> <a class="code" href="classdai_1_1DAG.html#5807cff8d5fda8e0c6ff060fc1a01ab8" title="Returns the index of a given node c amongst the children of n.">findCh</a>( <span class="keywordtype">size_t</span> n, <span class="keywordtype">size_t</span> c ) {
<a name="l00232"></a>00232             <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> _c = 0; _c &lt; <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>(n).size(); _c++ )
<a name="l00233"></a>00233                 <span class="keywordflow">if</span>( <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>( n, _c ) == c )
<a name="l00234"></a>00234                     <span class="keywordflow">return</span> _c;
<a name="l00235"></a>00235             <a class="code" href="exceptions_8h.html#e40c2873869c363218a8945a44e03525" title="Macro that simplifies throwing an exception with a useful default error message.">DAI_THROW</a>(OBJECT_NOT_FOUND);
<a name="l00236"></a>00236             <span class="keywordflow">return</span> <a class="code" href="classdai_1_1DAG.html#43d62aab21a307f9e908462022b13dcd" title="Returns constant reference to the _c &amp;#39;th child of node n.">ch</a>(n).size();
<a name="l00237"></a>00237         }
<a name="l00238"></a>00238 
<a name="l00240"></a>00240         <a class="code" href="classdai_1_1SmallSet.html" title="Represents a set; the implementation is optimized for a small number of elements...">SmallSet&lt;size_t&gt;</a> <a class="code" href="classdai_1_1DAG.html#dd0d2f0d9c6c23aeec1e4ea53b517260" title="Returns parents of node n as a SmallSet&amp;lt;size_t&amp;gt;.">paSet</a>( <span class="keywordtype">size_t</span> n ) <span class="keyword">const</span>;
<a name="l00241"></a>00241 
<a name="l00243"></a>00243         <a class="code" href="classdai_1_1SmallSet.html" title="Represents a set; the implementation is optimized for a small number of elements...">SmallSet&lt;size_t&gt;</a> <a class="code" href="classdai_1_1DAG.html#a15ebfa0c81837e68b51a068bc2b5c83" title="Returns children of node n as a SmallSet&amp;lt;size_t&amp;gt;.">chSet</a>( <span class="keywordtype">size_t</span> n ) <span class="keyword">const</span>;
<a name="l00244"></a>00244 
<a name="l00246"></a>00246         std::set&lt;size_t&gt; <a class="code" href="classdai_1_1DAG.html#04a035418686c0927364b6541a6fa335" title="Returns the set of ancestors of node n, i.e., all nodes a such that there exists...">ancestors</a>( <span class="keywordtype">size_t</span> n ) <span class="keyword">const</span>;
<a name="l00247"></a>00247 
<a name="l00249"></a>00249         std::set&lt;size_t&gt; <a class="code" href="classdai_1_1DAG.html#160df04aefeb8fef369ff900dd45298f" title="Returns the set of descendants of node n, i.e., all nodes d such that there exists...">descendants</a>( <span class="keywordtype">size_t</span> n ) <span class="keyword">const</span>;
<a name="l00250"></a>00250 
<a name="l00252"></a>00252         <span class="keywordtype">bool</span> <a class="code" href="classdai_1_1DAG.html#620082e01e4da4daa25e6ca651fe1d9d" title="Returns whether there exists a directed path from node n1 to node n2 (which may consist...">existsDirectedPath</a>( <span class="keywordtype">size_t</span> n1, <span class="keywordtype">size_t</span> n2 ) <span class="keyword">const</span>;
<a name="l00253"></a>00253 
<a name="l00255"></a>00255         <span class="keywordtype">bool</span> <a class="code" href="classdai_1_1DAG.html#70ecf148a031e1f999dc4a9a07b38611" title="Returns true if the DAG is connected.">isConnected</a>() <span class="keyword">const</span>;
<a name="l00256"></a>00256 
<a name="l00258"></a>00258         <span class="keywordtype">void</span> <a class="code" href="classdai_1_1DAG.html#88501d35d9adc1996b1aa3ca46a9df2b" title="Asserts internal consistency.">checkConsistency</a>() <span class="keyword">const</span>;
<a name="l00259"></a>00259 
<a name="l00261"></a>00261 
<a name="l00265"></a><a class="code" href="classdai_1_1DAG.html#c3100fa72427f00a2867e40419c5ae2d">00265</a>         <span class="keywordtype">bool</span> <a class="code" href="classdai_1_1DAG.html#c3100fa72427f00a2867e40419c5ae2d" title="Comparison operator which returns true if two DAGs are identical.">operator==</a>( <span class="keyword">const</span> <a class="code" href="classdai_1_1DAG.html" title="Represents the neighborhood structure of nodes in a directed cyclic graph.">DAG</a>&amp; x )<span class="keyword"> const </span>{
<a name="l00266"></a>00266             <span class="keywordflow">if</span>( <a class="code" href="classdai_1_1DAG.html#5c79447b7a63268417ff87093e0f7472" title="Returns number of nodes.">nrNodes</a>() != x.<a class="code" href="classdai_1_1DAG.html#5c79447b7a63268417ff87093e0f7472" title="Returns number of nodes.">nrNodes</a>() )
<a name="l00267"></a>00267                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00268"></a>00268             <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> n1 = 0; n1 &lt; <a class="code" href="classdai_1_1DAG.html#5c79447b7a63268417ff87093e0f7472" title="Returns number of nodes.">nrNodes</a>(); n1++ ) {
<a name="l00269"></a>00269                 <span class="keywordflow">if</span>( <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>(n1).size() != x.<a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>(n1).size() )
<a name="l00270"></a>00270                     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00271"></a>00271                 <span class="keywordflow">foreach</span>( <span class="keyword">const</span> <a class="code" href="structdai_1_1Neighbor.html" title="Describes the neighbor relationship of two nodes in a graph.">Neighbor</a> &amp;n2, <a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>(n1) )
<a name="l00272"></a>00272                     <span class="keywordflow">if</span>( !x.<a class="code" href="classdai_1_1DAG.html#04ec82dc6d59fab6a77c24dc560164ac" title="Returns true if the DAG contains an edge from node n1 and n2.">hasEdge</a>( n2, n1 ) )
<a name="l00273"></a>00273                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00274"></a>00274                 <span class="keywordflow">foreach</span>( <span class="keyword">const</span> <a class="code" href="structdai_1_1Neighbor.html" title="Describes the neighbor relationship of two nodes in a graph.">Neighbor</a> &amp;n2, x.<a class="code" href="classdai_1_1DAG.html#876bff9fff164bef3f4053b42c8bc782" title="Returns constant reference to the _p &amp;#39;th parent of node n.">pa</a>(n1) )
<a name="l00275"></a>00275                     <span class="keywordflow">if</span>( !<a class="code" href="classdai_1_1DAG.html#04ec82dc6d59fab6a77c24dc560164ac" title="Returns true if the DAG contains an edge from node n1 and n2.">hasEdge</a>( n2, n1 ) )
<a name="l00276"></a>00276                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00277"></a>00277             }
<a name="l00278"></a>00278             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00279"></a>00279         }
<a name="l00281"></a>00281 
<a name="l00283"></a>00283 
<a name="l00284"></a>00284 
<a name="l00285"></a>00285         <span class="keywordtype">void</span> <a class="code" href="classdai_1_1DAG.html#ad25957f0b9111ec9ca4a2fdcc639213" title="Writes this DAG to an output stream in GraphViz .dot syntax.">printDot</a>( std::ostream&amp; os ) <span class="keyword">const</span>;
<a name="l00286"></a>00286 
<a name="l00288"></a><a class="code" href="classdai_1_1DAG.html#58c0f9a380d5c4dd348aa701a142c127">00288</a>         <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classdai_1_1DAG.html#58c0f9a380d5c4dd348aa701a142c127" title="Writes this DAG to an output stream.">operator&lt;&lt;</a>( std::ostream&amp; os, <span class="keyword">const</span> <a class="code" href="classdai_1_1DAG.html" title="Represents the neighborhood structure of nodes in a directed cyclic graph.">DAG</a>&amp; g ) {
<a name="l00289"></a>00289             g.<a class="code" href="classdai_1_1DAG.html#ad25957f0b9111ec9ca4a2fdcc639213" title="Writes this DAG to an output stream in GraphViz .dot syntax.">printDot</a>( os );
<a name="l00290"></a>00290             <span class="keywordflow">return</span> os;
<a name="l00291"></a>00291         }
<a name="l00293"></a>00293 };
<a name="l00294"></a>00294 
<a name="l00295"></a>00295 
<a name="l00296"></a>00296 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> EdgeInputIterator&gt;
<a name="l00297"></a><a class="code" href="classdai_1_1DAG.html#77a8bc70a52faf465b1bf55b585f65f5">00297</a> <span class="keywordtype">void</span> <a class="code" href="classdai_1_1DAG.html#77a8bc70a52faf465b1bf55b585f65f5" title="(Re)constructs DAG from a range of edges.">DAG::construct</a>( <span class="keywordtype">size_t</span> nr, EdgeInputIterator begin, EdgeInputIterator end, <span class="keywordtype">bool</span> check ) {
<a name="l00298"></a>00298     <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.clear();
<a name="l00299"></a>00299     <a class="code" href="classdai_1_1DAG.html#84807bf73872e2d9da90aec3bbc1d9b0" title="Contains for each node a vector of its parent nodes.">_pa</a>.resize( nr );
<a name="l00300"></a>00300     <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.clear();
<a name="l00301"></a>00301     <a class="code" href="classdai_1_1DAG.html#b9a90af854f3fb991f435c9d4656e97c" title="Contains for each node a vector of its children nodes.">_ch</a>.resize( nr );
<a name="l00302"></a>00302 
<a name="l00303"></a>00303     <span class="keywordflow">for</span>( EdgeInputIterator e = begin; e != end; e++ )
<a name="l00304"></a>00304         <a class="code" href="classdai_1_1DAG.html#eee04f48ac5d0bf68187d5325dd551bd" title="Adds an edge from node n1 and node n2.">addEdge</a>( e-&gt;first, e-&gt;second, check );
<a name="l00305"></a>00305 }
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 } <span class="comment">// end of namespace dai</span>
<a name="l00309"></a>00309 
<a name="l00310"></a>00310 
<a name="l00311"></a>00311 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Aug 19 13:58:09 2010 for libDAI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
