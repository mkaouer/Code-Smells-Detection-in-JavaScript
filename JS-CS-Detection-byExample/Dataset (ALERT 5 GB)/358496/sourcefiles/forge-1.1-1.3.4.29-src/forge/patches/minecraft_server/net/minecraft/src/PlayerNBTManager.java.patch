--- ../src_base/minecraft_server/net/minecraft/src/PlayerNBTManager.java	0000-00-00 00:00:00.000000000 -0000
+++ ../src_work/minecraft_server/net/minecraft/src/PlayerNBTManager.java	0000-00-00 00:00:00.000000000 -0000
@@ -82,17 +82,11 @@
 
     public IChunkLoader getChunkLoader(WorldProvider worldprovider)
     {
-        if (worldprovider instanceof WorldProviderHell)
+        if (worldprovider.getSaveFolder() != null)
         {
-            File file = new File(worldDirectory, "DIM-1");
-            file.mkdirs();
-            return new ChunkLoader(file, true);
-        }
-        if (worldprovider instanceof WorldProviderEnd)
-        {
-            File file1 = new File(worldDirectory, "DIM1");
-            file1.mkdirs();
-            return new ChunkLoader(file1, true);
+            File dir = new File(worldDirectory, worldprovider.getSaveFolder());
+            dir.mkdirs();
+            return new ChunkLoader(dir, true);
         }
         else
         {
