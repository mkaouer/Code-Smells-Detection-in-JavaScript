--- ../src_base/minecraft_server/net/minecraft/src/EntityItem.java	0000-00-00 00:00:00.000000000 -0000
+++ ../src_work/minecraft_server/net/minecraft/src/EntityItem.java	0000-00-00 00:00:00.000000000 -0000
@@ -2,6 +2,8 @@
 
 import java.util.Random;
 
+import net.minecraft.src.forge.ForgeHooks;
+
 public class EntityItem extends Entity
 {
     public ItemStack item;
@@ -139,6 +141,18 @@
             return;
         }
         int i = item.stackSize;
+        if (delayBeforeCanPickup == 0 && !ForgeHooks.onItemPickup(entityplayer, this))
+        {
+            ModLoader.OnItemPickup(entityplayer, item);
+            worldObj.playSoundAtEntity(this, "random.pop", 0.2F, ((rand.nextFloat() - rand.nextFloat()) * 0.7F + 1.0F) * 2.0F);
+            entityplayer.onItemPickup(this, i);
+            if (item.stackSize <= 0)
+            {
+                setEntityDead();
+            }
+            return;
+        }
+        i = item.stackSize;
         if (delayBeforeCanPickup == 0 && entityplayer.inventory.addItemStackToInventory(item))
         {
             if (item.itemID == Block.wood.blockID)
