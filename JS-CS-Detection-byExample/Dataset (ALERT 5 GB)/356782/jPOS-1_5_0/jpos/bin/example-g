#! /bin/sh

# $Id$

cd `dirname $0`/..

if [ -z "$JAVA_HOME" ] ; then
  JAVA=`which java`
  if [ -z "$JAVA" ] ; then
    echo "Cannot find 'java'. check your PATH."
    exit 1
  fi
  JAVA_BIN=`dirname $JAVA`
  JAVA_HOME=$JAVA_BIN/..
fi

JAVA=$JAVA_HOME/bin/java

CLASSPATH=build/classes:build/examples:lib/xerces_1_2_3.jar:lib/xalan_2_0_0.jar:lib/log4j.jar:lib/mx4j-jmx.jar:lib/mx4j-tools.jar
CLASSPATH=`echo ext/*.jar | tr ' ' ':'`:$CLASSPATH

if [ -z $1 ] ; then
  echo "Usage: example <package>";
  exit;
fi

echo 'call jdb -attach 8010' on another terminal

$JAVA -cp $CLASSPATH -Djpos.config=src/etc/jpos.cfg \
	-Djava.compiler=NONE \
	-Dsax.parser=org.apache.xerces.parsers.SAXParser \
        -Xdebug \
        -Xrunjdwp:transport=dt_socket,address=8010,server=y,suspend=n \
	$1.Test $2 $3 $4 $5



