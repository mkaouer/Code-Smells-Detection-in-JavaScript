
[ Note: this howto is probably useful to core vlc developers only ]

  Release HOWTO
 - - - - - - - -

 * Tests préalables (compilation, regression test, etc.) (on ne rit pas)

 * Opérations sur la repository

  - générer un timestamp de release (par exemple avec 822-date)
  - updater le numéro de version partout où c'est nécessaire
     · configure.in (relancer autoconf)
     · vlc.spec
     · ipkg/control
     · debian/changelog
  - mettre à jour les ChangeLog et la TODO list pour ceux qui auraient
    étourdiment oublié de l'updater à chaque commit
  - updater le numéro de version et le timestamp dans :
     · vlc.spec
     · ChangeLog
     · debian/changelog
  - updater debian/changelog (laissez faire sam si vous ne savez pas
    comment faire)

 * Commit

 * Tarballs

  - créer le tar.gz du vlc avec `make dist'.
  - copier le tar.gz sur brahma, dans /opt/ftp/pub/vlc/XXX/
  - si les répertoires créés ne sont pas en g+w, corriger cela

 * Packages Debian

    mv vlc-XXX.tar.gz vlc_XXX.orig.tar.gz
    tar xvzf vlc_XXX.orig.tar.gz
    cd vlc-XXX
    dpkg-buildpackage -rfakeroot
    if [ $LOGNAME = sam ]; then debupload ../*XXX*; fi
    # copier les fichiers créés sur brahma, dans /opt/ftp/pub/vlc/XXX/deb/

 * Packages RPM

    rpm -ta vlc-XXX.tar.gz
    # copier les fichiers créés sur brahma, dans /opt/ftp/pub/vlc/XXX/rpm/

 * Packages BeOS

    tar xvzf vlc-XXX.tar.gz
    cd vlc-XXX
    ./configure --with-dvdcss-tree=../libdvdcss --enable-release
    make
    make package-beos
    # copier le .zip créé sur brahma, dans /opt/ftp/pub/vlc/XXX/beos/

 * Packages Win32

    # aller sur vthr
    tar xvzf vlc-XXX.tar.gz
    cd vlc-XXX
    configure-win32 --enable-release --disable-gtk --disable-sdl
    make
    make package-win32
    # copier le .exe créé sur brahma, dans /opt/ftp/pub/vlc/XXX/win32/

 * Commit (ben oui, faut pas croire que tout aura marché du premier coup)

 * Tag, selon le schéma v0_2_92 pour 0.2.92

 * Update sur le web

  - le web se trouve dans /opt/www/videolan/
  - éditer vlc/download.html pour mettre à jour les tarballs
  - éditer news.msg pour mettre une petite bafouille sur la release, en
    s'inspirant des releases précédentes et du changelog quand on n'a pas
    d'idées

 * Annonce sur www.gnome.org

  - cliquer à gauche sur "Get more software"
  - cliquer sur "Edit an existing map entry"
  - rentrer 'vlc' comme nom de package
  - mettre à jour le numéro de version et d'éventuels détails, et submit
  - l'update est instantanée

 * Annonce sur www.freshmeat.net

  - il faut avoir un compte sur freshmeat
  - aller sur http://www.freshmeat.net/projects/vlc/
  - cliquer sur la branche de la release, par exemple Ourumov
  - choisir "add release" dans le menu déroulant
  - remplir tout le bazar, et submit
  - l'update peut mettre plusieurs heures

 * Mail d'annonce

  - s'inspirer du format des annonces précédentes
  - poster dans videolan-announce, vlc et vlc-devel

