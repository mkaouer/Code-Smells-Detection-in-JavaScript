diff -ur asa.orig/lib/Makefile.am asa/lib/Makefile.am
--- asa.orig/lib/Makefile.am	2007-08-31 17:26:54.000000000 +0200
+++ asa/lib/Makefile.am	2008-03-08 23:17:27.000000000 +0100
@@ -25,7 +25,9 @@
 	echo obj $(objname) pic $(picname)
 	$(NASM) -f elf $(ASMOPT) -o ${picname} $^
 	$(NASM) -f elf $(ASMOPT) -DNO_PIC -o ${objname} $^
-	echo -e "# Generated by libtool\npic_object='../${picname}'\nnon_pic_object='../${objname}'" > $@
+	echo "# Generated by libtool" > $@
+	echo "pic_object='../${picname}'" >> $@
+	echo "non_pic_object='../${objname}'" >> $@
 
 noinst_HEADERS = blitter_internal.h
 lib_LTLIBRARIES = libasa.la
@@ -51,11 +53,12 @@
 	../csri/subhelp/libsubhelp_la-openfile.lo \
 	../csri/subhelp/libsubhelp_la-logging.lo \
 	import/libimport.la \
+	$(PCRE_LIBS) \
 	$(ASM)
 libasa_la_LDFLAGS = -version-info 0:0:0 -no-undefined
 
 install-exec-hook:
-	test -z "$(csrilibdir)" || $(MKDIR_P) "$(DESTDIR)$(csrilibdir)"
+	test -z "$(csrilibdir)" || $(mkdir_p) "$(DESTDIR)$(csrilibdir)"
 	$(LN_S) $(libdir)/libasa.so.0 \
 		$(DESTDIR)$(csrilibdir)/asa_csri.so
 
diff -ur asa.orig/lib/import/Makefile.am asa/lib/import/Makefile.am
--- asa.orig/lib/import/Makefile.am	2007-08-31 17:26:54.000000000 +0200
+++ asa/lib/import/Makefile.am	2008-03-08 23:01:50.000000000 +0100
@@ -1,6 +1,6 @@
 if IMPORTS_PREP
 noinst_PROGRAMS = preparse
-preparse_LDFLAGS = -limportparser
+preparse_LDFLAGS = -limportparser $(PCRE_LIBS)
 
 BUILT_SOURCES = imports_prep.h
 imports_prep.h: $(srcdir)/imports libimportparser.la preparse
